<!DOCTYPE html>
<html lang="en">
    
    <%- include('./partials/head')%>

    <body>
        <div class="d-flex flex-column cover-container mx-auto">

            <header>
                <nav class="navbar navbar-expand-sm">
                    <div class="container-sm">
                        <a class="navbar-brand" href="/login">
                            <img src="/img/image260.png" alt="Logo" width="30" height="24" class="d-inline-block align-text-top rounded border border-light">
                            Forget-Me-Not
                        </a>
                        <div class="d-flex flex-row-reverse">
                            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                                <div class="navbar-nav">
                                    <!-- <a class="nav-link" href="/login">Log-in</a> -->
                                    <a class="nav-link" href="/logout">Log-out</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
            </header>

            <main class="px-3 mt-3">
                <div class="text-center">
                    <h1 class="userColor"><%= user.userName %>'s forget-me-nots</h1>
                    <p class="lead fw-bold"><%= left %> pending</p>

                    <form action="/reminders/createReminder" method="post" class="d-flex justify-content-center">
                        <div class="form-floating me-1 mb-3">
                            <input type="text" class="form-control" id="floatingInput" placeholder="forget-me-not" name="reminderItem">
                            <label for="floatingInput">new forget-me-not</label>
                        </div>
                        <div class="form-floating mt-1">
                            <button type="submit" class="btn btn-lg fw-bold login-button text-light">Submit</button>
                        </div>
                    </form>
                </div>
                
                <div class="mb-3">
                    <% reminders.forEach( el => { %>
                    <ul class="list-group list-group-horizontal reminder-container mx-auto">
                        <li class="list-group-item col-1 <%= el.completed === true ? 'completed' : 'not'%>" data-id='<%=el._id%>' data-completed="<%=el.completed%>">
                            <span class="<%= el.completed === true ? 'fas fa-square-check' : 'far fa-square'%>  position-absolute top-50 start-50 translate-middle"></span>
                        </li>
                        <li class="list-group-item col-10" data-id='<%=el._id%>'>
                            <span class="<%= el.completed === true ? 'strikethrough' : ''%>">
                                <%= el.reminder %>
                            </span>
                        </li>
                    
                        <li class="list-group-item col-1 del" data-id='<%=el._id%>'>
                            <span class="fas fa-trash position-absolute top-50 start-50 translate-middle"></span>
                        </li>
                    </ul>
                    <% }) %>
                </div>         
            </main>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
        <script src="js/main.js"></script>
    </body>
</html>